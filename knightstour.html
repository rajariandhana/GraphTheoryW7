<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Path Representation</title>
    <style>
        table {
            border-collapse: collapse;
            margin: 20px;
        }

        td {
            width: 100px;
            height: 100px;
            border: 1px solid #ccc;
            text-align: center;
            vertical-align: middle;
        }
    </style>
    <link href="./src/output.css" rel="stylesheet">
</head>

<body>
    <input type="file" id="fileInput" />
    <table id="gridTable"></table>
    <script>
        document.getElementById('fileInput').addEventListener('change', handleFileSelect);

        function handleFileSelect(event) {
            const file = event.target.files[0];
            const reader = new FileReader();

            reader.onload = function(e) {
                const lines = e.target.result.split('\n').map(line => line.trim()).filter(line => line);
                createGrid(lines);
            };

            reader.readAsText(file);
        }

        function createGrid(lines) {
            const numRow = parseInt(lines[0]);
            const numCol = parseInt(lines[1]);
            const source_r = parseInt(lines[2]);
            const source_c = parseInt(lines[3]);
            const n_nodes = parseInt(lines[4]);
            const path = lines.slice(5, 5 + n_nodes).map(line => line.split(' ').map(Number));

            const table = document.getElementById('gridTable');
            table.innerHTML = '';

            for (let r = 0; r < numRow; r++) {
                const row = table.insertRow();
                for (let c = 0; c < numCol; c++) {
                    const cell = row.insertCell();
                    if (r === source_r && c === source_c) {
                        cell.style.backgroundColor = 'lightgreen';
                    }
                }
            }

            // Start coloring the path
            let index = 0;
            const interval = setInterval(() => {
                if (index < path.length) {
                    const [r, c] = path[index];
                    const cell = table.rows[r].cells[c];
                    cell.style.backgroundColor = 'darkorange'; // Change color for path
                    cell.textContent = index + 1; // Set the text content to the current step number
                    index++;
                } else {
                    clearInterval(interval); // Stop when done
                }
            }, 500);

        }
    </script>

</body>

</html>
